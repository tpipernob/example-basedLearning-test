"use strict";(globalThis["webpackChunkquasar_project"]=globalThis["webpackChunkquasar_project"]||[]).push([[503],{9878:(e,o,a)=>{a.d(o,{$_:()=>p,Em:()=>l,FX:()=>n,bN:()=>c,i3:()=>m,k6:()=>u,tb:()=>d,xr:()=>i});var r=a(737),t=a(546),s=a(8090);const n=async e=>{try{const o=r.j2.currentUser;if(!o)throw new Error("Usuário não autenticado.");const a={...e,userId:o.uid,lastUpdated:(new Date).toISOString(),ratings:[],aprovado:!1},s=await(0,t.gS)((0,t.rJ)(r.db,"exemplos"),a);return s.id}catch(o){throw console.error("Erro ao adicionar exemplo:",o),o}},l=async(e,o)=>{try{const a=r.j2.currentUser;if(!a)throw new Error("Usuário não autenticado.");const s=(0,t.H9)(r.db,"exemplos",e),n=await(0,t.x7)(s);if(!n.exists())throw new Error("Exemplo não encontrado.");const l=n.data(),i=(0,t.H9)(r.db,"users",a.uid),d=await(0,t.x7)(i),m=d.exists()?d.data().role:"user";if("admin"!==m&&a.uid!==l.userId)throw new Error("Você não tem permissão para editar este exemplo.");"admin"!==m&&(delete o.aprovado,delete o.link);const c={...o,lastUpdated:(new Date).toISOString()};await(0,t.mZ)(s,c)}catch(a){throw console.error("Erro ao atualizar exemplo:",a),a}},i=async e=>{try{const o=r.j2.currentUser;if(!o)throw new Error("Usuário não autenticado.");const a=(0,t.H9)(r.db,"exemplos",e),s=await(0,t.x7)(a);if(!s.exists())throw new Error("Exemplo não encontrado.");const n=s.data(),l=(0,t.H9)(r.db,"users",o.uid),i=await(0,t.x7)(l),d=i.exists()?i.data().role:"user";if("admin"!==d&&o.uid!==n.userId)throw new Error("Você não tem permissão para excluir este exemplo.");return await(0,t.kd)(a),!0}catch(o){throw console.error("Erro ao excluir exemplo:",o),o}},d=async()=>{try{const e=await(0,t.GG)((0,t.rJ)(r.db,"exemplos"));return e.docs.map((e=>({id:e.id,...e.data()})))}catch(e){throw console.error("Erro ao carregar exemplos:",e),e}},m=async e=>{try{const a=(0,t.H9)(r.db,"exemplos",e),s=await(0,t.x7)(a);if(!s.exists())return console.warn("Exemplo não encontrado:",e),null;const n={id:s.id,...s.data()};if(n.userId)try{const e=(0,t.H9)(r.db,"users",n.userId),o=await(0,t.x7)(e);o.exists()?n.userName=o.data().name||"Usuário desconhecido":n.userName="Usuário não encontrado"}catch(o){console.error("Erro ao carregar nome do usuário:",o),n.userName="Erro ao carregar nome"}else n.userName="Usuário desconhecido";return n}catch(o){throw console.error("Erro ao carregar exemplo:",o),o}},c=async(e,o)=>{try{const a=r.j2.currentUser;if(!a)throw new Error("Usuário não autenticado.");const n=(0,s.A)(),l={id:n,author:a.displayName||"Usuário Anônimo",rating:o.rating,comment:o.comment,date:(new Date).toISOString(),userId:a.uid},i=(0,t.H9)(r.db,"exemplos",e);return await(0,t.mZ)(i,{ratings:(0,t.hq)(l)}),l}catch(a){throw console.error("Erro ao salvar avaliação:",a),a}},p=async(e,o)=>{try{const a=r.j2.currentUser;if(!a)throw new Error("Usuário não autenticado.");const s=(0,t.H9)(r.db,"exemplos",e),n=await(0,t.x7)(s);if(!n.exists())throw new Error("Exemplo não encontrado.");const l=n.data(),i=l.ratings.map((e=>e.id===o.id?o:e));return await(0,t.mZ)(s,{ratings:i}),o}catch(a){throw console.error("Erro ao editar avaliação:",a),a}},u=async(e,o)=>{try{const a=(0,t.H9)(r.db,"exemplos",e),s=await(0,t.x7)(a);if(!s.exists())throw new Error("Exemplo não encontrado.");const n=s.data(),l=n.ratings.filter((e=>e.id!==o));return await(0,t.mZ)(a,{ratings:l}),l}catch(a){throw console.error("Erro ao remover avaliação:",a),a}}},737:(e,o,a)=>{a.d(o,{db:()=>d,j2:()=>m});var r=a(322),t=a(546),s=a(5956),n=a(1271);const l={apiKey:"AIzaSyDA7T1Fg6CSR1WJHpOeNdaRYuWKtyBA7GU",authDomain:"app-ebl.firebaseapp.com",projectId:"app-ebl",storageBucket:"app-ebl.appspot.com",messagingSenderId:"664304698050",appId:"1:664304698050:web:fd9d886cf317cca6d5f15b"},i=(0,r.Wp)(l),d=(0,t.aU)(i),m=(0,s.xI)(i);(0,s.hg)(m,(e=>{e?n.A.set("user",e):n.A.remove("user")}))},6503:(e,o,a)=>{a.r(o),a.d(o,{default:()=>v});var r=a(1758),t=a(9104);const s=(0,r.Lk)("div",{class:"text-h6"},"Cadastrar Novo Exemplo",-1);function n(e,o,a,n,l,i){const d=(0,r.g2)("q-input"),m=(0,r.g2)("q-select"),c=(0,r.g2)("q-btn"),p=(0,r.g2)("q-form"),u=(0,r.g2)("q-card"),x=(0,r.g2)("q-page");return(0,r.uX)(),(0,r.Wv)(x,{padding:""},{default:(0,r.k6)((()=>[(0,r.bF)(u,{class:"q-pa-md"},{default:(0,r.k6)((()=>[s,(0,r.bF)(p,{onSubmit:(0,t.D$)(n.salvarExemplo,["prevent"])},{default:(0,r.k6)((()=>[(0,r.bF)(d,{modelValue:n.exemplo.titulo,"onUpdate:modelValue":o[0]||(o[0]=e=>n.exemplo.titulo=e),label:"Título do Exemplo",required:"",class:"q-mb-md"},null,8,["modelValue"]),(0,r.bF)(m,{modelValue:n.exemplo.tipo,"onUpdate:modelValue":o[1]||(o[1]=e=>n.exemplo.tipo=e),options:n.tiposExemplo,label:"Tipo de Exemplo",class:"q-mb-md",required:""},null,8,["modelValue","options"]),(0,r.bF)(m,{modelValue:n.exemplo.modelo,"onUpdate:modelValue":o[2]||(o[2]=e=>n.exemplo.modelo=e),options:n.modelosUML,label:"Modelos UML (Opcional)",multiple:"","use-chips":"",hint:"Caso não se aplique, deixe em branco.",class:"q-mb-md"},null,8,["modelValue","options"]),(0,r.bF)(d,{modelValue:n.exemplo.descricao,"onUpdate:modelValue":o[3]||(o[3]=e=>n.exemplo.descricao=e),label:"Descrição do Exemplo",type:"textarea",required:"",class:"q-mb-md"},null,8,["modelValue"]),(0,r.bF)(d,{modelValue:n.exemplo.fonte,"onUpdate:modelValue":o[4]||(o[4]=e=>n.exemplo.fonte=e),label:"Fonte do Exemplo",hint:"Insira um link ou a referência do material.",class:"q-mb-md"},null,8,["modelValue"]),(0,r.bF)(d,{modelValue:n.exemplo.link,"onUpdate:modelValue":o[5]||(o[5]=e=>n.exemplo.link=e),label:"Link para o exemplo",hint:"Forneça um link válido. O material será analisado e, se aprovado, será baixado e integrado ao repositório do projeto.",required:"",class:"q-mb-md"},null,8,["modelValue"]),(0,r.bF)(c,{type:"submit",color:"primary",label:"Salvar Exemplo",class:"full-width"})])),_:1},8,["onSubmit"])])),_:1})])),_:1})}var l=a(8734),i=a(9878),d=a(4907);const m={setup(){const e=(0,d.A)(),o=(0,l.KR)({titulo:"",tipo:"",modelo:[],descricao:"",fonte:"",link:"",aprovado:!1}),a=["Exemplo Correto","Exemplo Errôneo","Ambos"],r=["Diagrama de Classes","Diagrama de Objetos","Diagrama de Componentes","Diagrama de Pacotes","Diagrama de Estrutura Composta","Diagrama de Implantação (Deployment)","Diagrama de Caso de Uso","Diagrama de Sequência","Diagrama de Comunicação","Diagrama de Estados (State Machine)","Diagrama de Atividades","Diagrama de Interação Geral (Interaction Overview)","Diagrama de Tempo (Timing Diagram)"],t=async()=>{try{await(0,i.FX)(o.value),e.notify({type:"positive",message:"Exemplo cadastrado com sucesso!"}),o.value={titulo:"",tipo:"",modelo:[],descricao:"",fonte:"",link:"",aprovado:!1}}catch(a){e.notify({type:"negative",message:"Erro ao salvar exemplo."})}};return{exemplo:o,tiposExemplo:a,modelosUML:r,salvarExemplo:t}}};var c=a(2807),p=a(7716),u=a(3316),x=a(9200),w=a(9270),b=a(595),g=a(6384),h=a(8582),E=a.n(h);const f=(0,c.A)(m,[["render",n]]),v=f;E()(m,"components",{QPage:p.A,QCard:u.A,QForm:x.A,QInput:w.A,QSelect:b.A,QBtn:g.A})}}]);